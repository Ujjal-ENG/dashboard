"use client";

import { Button } from "@/components/ui/button";
import { LogOut } from "lucide-react";
import Link from "next/link";
import { usePathname } from "next/navigation";

interface SidebarItemProps {
  icon: React.ReactNode;
  label: string;
  href: string;
  active?: boolean;
}

function SidebarItem({ icon, label, href, active }: SidebarItemProps) {
  return (
    <Link
      href={href}
      className={`flex items-center gap-3 px-4 py-3 text-sm mx-4 rounded-[10px] ${
        active ? "bg-[#0A7CFF] text-white " : "text-gray-400 hover:text-white"
      }`}
    >
      {icon}
      <span>{label}</span>
    </Link>
  );
}

export default function Sidebar() {
  const pathname = usePathname();

  const routes = [
    {
      path: "/",
      label: "Overview",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
        >
          <path
            d="M1.0353 8.94988H6.31177C6.79544 8.94988 7.19118 8.55414 7.19118 8.07047V1.03517C7.19118 0.551497 6.79544 0.155762 6.31177 0.155762H1.0353C0.551619 0.155762 0.155884 0.551497 0.155884 1.03517V8.07047C0.155884 8.55414 0.551619 8.94988 1.0353 8.94988ZM1.0353 15.9852H6.31177C6.79544 15.9852 7.19118 15.5894 7.19118 15.1058V11.5881C7.19118 11.1044 6.79544 10.7087 6.31177 10.7087H1.0353C0.551619 10.7087 0.155884 11.1044 0.155884 11.5881V15.1058C0.155884 15.5894 0.551619 15.9852 1.0353 15.9852ZM9.82941 15.9852H15.1059C15.5896 15.9852 15.9853 15.5894 15.9853 15.1058V8.07047C15.9853 7.58679 15.5896 7.19106 15.1059 7.19106H9.82941C9.34574 7.19106 8.95 7.58679 8.95 8.07047V15.1058C8.95 15.5894 9.34574 15.9852 9.82941 15.9852ZM8.95 1.03517V4.55282C8.95 5.0365 9.34574 5.43223 9.82941 5.43223H15.1059C15.5896 5.43223 15.9853 5.0365 15.9853 4.55282V1.03517C15.9853 0.551497 15.5896 0.155762 15.1059 0.155762H9.82941C9.34574 0.155762 8.95 0.551497 8.95 1.03517Z"
            fill="white"
          />
        </svg>
      ),
    },
    {
      path: "/platform",
      label: "Platform",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="14"
          height="17"
          viewBox="0 0 14 17"
          fill="none"
        >
          <path
            d="M3.99265 0.226318H2.01397V2.20499H0.0352936V14.0771H2.01397V16.0557H3.99265V14.0771H5.97132V2.20499H3.99265V0.226318ZM13.886 4.18367H11.9074V0.226318H9.92868V4.18367H7.95V11.109H9.92868V16.0557H11.9074V11.109H13.886V4.18367Z"
            fill="white"
          />
        </svg>
      ),
    },
    {
      path: "/withdrawal",
      label: "Withdrawal",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="17"
          height="17"
          viewBox="0 0 17 17"
          fill="none"
        >
          <path
            d="M16.5092 6.48045C16.5869 6.29275 16.6072 6.0862 16.5676 5.88695C16.5279 5.68769 16.43 5.50468 16.2863 5.36107L11.1516 0.226318L9.69945 1.67843L13.0812 5.06017H0.156003V7.11407H15.5603C15.7634 7.11412 15.9619 7.05395 16.1308 6.94117C16.2997 6.82839 16.4314 6.66805 16.5092 6.48045ZM0.234051 9.8016C0.156306 9.9893 0.135982 10.1958 0.17565 10.3951C0.215318 10.5944 0.313195 10.7774 0.456899 10.921L5.59165 16.0557L7.04376 14.6036L3.66201 11.2219H16.5872V9.16797H1.18295C0.979827 9.16779 0.781217 9.2279 0.61229 9.3407C0.443363 9.4535 0.311723 9.61391 0.234051 9.8016Z"
            fill="white"
          />
        </svg>
      ),
    },
    {
      path: "/billing",
      label: "Billing History",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="25"
          viewBox="0 0 24 25"
          fill="none"
        >
          <path
            d="M19 20.1411H5C3.89543 20.1411 3 19.2457 3 18.1411L3 6.14111C3 5.03654 3.89543 4.14111 5 4.14111L15 4.14111C16.1046 4.14111 17 5.03654 17 6.14111V7.14111M19 20.1411C17.8954 20.1411 17 19.2457 17 18.1411L17 7.14111M19 20.1411C20.1046 20.1411 21 19.2457 21 18.1411V9.14111C21 8.03654 20.1046 7.14111 19 7.14111L17 7.14111M13 4.14111L9 4.14111M7 16.1411H13M7 8.14111H13V12.1411H7V8.14111Z"
            stroke="white"
            strokeWidth="1.5"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      ),
    },
    {
      path: "/support",
      label: "Support",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="24"
          viewBox="0 0 18 24"
          fill="none"
        >
          <path
            d="M6.92031 15.8245L6.91018 15.8008C6.75807 15.7592 6.60724 15.7131 6.4579 15.6625L6.44665 15.658C4.89243 15.1262 3.54339 14.1218 2.58836 12.7852C1.63333 11.4487 1.12012 9.84703 1.12057 8.20436C1.12007 6.18836 1.89271 4.24893 3.27934 2.78553C4.66598 1.32214 6.56101 0.446234 8.57412 0.338225C10.5872 0.230215 12.5651 0.898328 14.1004 2.20495C15.6356 3.51157 16.6113 5.3572 16.8266 7.36169C16.8761 7.82521 16.4935 8.20436 16.0278 8.20436C15.562 8.20436 15.1896 7.82409 15.1277 7.36281C14.9781 6.27405 14.5412 5.24476 13.862 4.38075C13.1828 3.51674 12.2858 2.84916 11.2632 2.44662C10.2406 2.04408 9.12921 1.92111 8.04332 2.09034C6.95742 2.25957 5.93618 2.71489 5.08453 3.40952C4.23289 4.10415 3.58157 5.01302 3.19752 6.04274C2.81347 7.07245 2.71053 8.18585 2.89928 9.26852C3.08804 10.3512 3.56169 11.3641 4.27154 12.2031C4.98139 13.0421 5.90185 13.6769 6.93831 14.0424C7.1471 13.5704 7.51177 13.1846 7.97119 12.9495C8.43061 12.7145 8.95687 12.6445 9.46176 12.7513C9.96665 12.8581 10.4195 13.1352 10.7444 13.5362C11.0692 13.9371 11.2464 14.4376 11.2462 14.9537C11.2467 15.4737 11.0671 15.9779 10.7378 16.3805C10.4085 16.7831 9.94997 17.0592 9.44011 17.1618C8.93025 17.2644 8.40059 17.1873 7.9412 16.9435C7.48181 16.6997 7.12106 16.3042 6.92031 15.8245ZM5.76711 17.2083C4.44058 16.7319 3.23576 15.9681 2.23889 14.9717C1.62251 15.0434 1.05394 15.339 0.641185 15.8023C0.228432 16.2657 0.000255748 16.8645 0 17.4851V18.5201C0 19.1637 0.200262 19.7915 0.573786 20.3157C2.30864 22.7504 5.14832 23.9553 8.99606 23.9553C12.8438 23.9553 15.6846 22.7493 17.4228 20.3157C17.7981 19.7909 17.9999 19.1619 18 18.5168V17.4839C18 16.813 17.7336 16.1694 17.2594 15.6948C16.7851 15.2201 16.1418 14.9531 15.4708 14.9525H12.9338C12.934 15.7905 12.6668 16.6068 12.1711 17.2825C11.6755 17.9582 10.9772 18.4581 10.1778 18.7096C9.37839 18.9611 8.51962 18.951 7.72637 18.6808C6.93312 18.4106 6.24676 17.8955 5.76711 17.2083ZM13.4963 8.20436C13.4963 7.54668 13.3522 6.89699 13.074 6.30102C12.7959 5.70505 12.3905 5.1773 11.8864 4.7549C11.4184 4.36345 10.8758 4.07124 10.2914 3.89602C9.70699 3.7208 9.09308 3.66624 8.48695 3.73564C7.88083 3.80504 7.29514 3.99696 6.76548 4.29973C6.23583 4.60251 5.77327 5.00982 5.40591 5.4969C5.03855 5.98399 4.77407 6.54069 4.62853 7.13316C4.48299 7.72564 4.45944 8.34152 4.55931 8.94338C4.65918 9.54524 4.88038 10.1205 5.20947 10.6342C5.53856 11.1479 5.96867 11.5894 6.47365 11.9317C7.18145 11.3409 8.07411 11.0172 8.99606 11.017C9.95575 11.017 10.8356 11.3602 11.5196 11.9317C12.1286 11.5193 12.6272 10.9638 12.9718 10.314C13.3165 9.66425 13.4965 8.93989 13.4963 8.20436Z"
            fill="white"
          />
        </svg>
      ),
    },
    {
      path: "/profile",
      label: "Profile",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="15"
          height="17"
          viewBox="0 0 15 17"
          fill="none"
        >
          <path
            d="M14.4031 13.1444C14.028 12.2558 13.4836 11.4487 12.8003 10.768C12.1191 10.0853 11.3121 9.54102 10.4239 9.16516C10.4159 9.16119 10.408 9.1592 10.4 9.15522C11.6389 8.26034 12.4443 6.80268 12.4443 5.15809C12.4443 2.43369 10.237 0.226318 7.51255 0.226318C4.78814 0.226318 2.58078 2.43369 2.58078 5.15809C2.58078 6.80268 3.38617 8.26034 4.62508 9.15721C4.61712 9.16119 4.60917 9.16317 4.60121 9.16715C3.71031 9.543 2.91089 10.0819 2.22481 10.77C1.54214 11.4512 0.997844 12.2582 0.621986 13.1464C0.252743 14.0159 0.0536027 14.9482 0.0353433 15.8927C0.0348125 15.9139 0.0385353 15.935 0.0462923 15.9548C0.0540493 15.9745 0.0656836 15.9925 0.0805096 16.0077C0.0953357 16.0229 0.113053 16.035 0.132619 16.0433C0.152184 16.0515 0.173202 16.0557 0.194433 16.0557H1.3876C1.4751 16.0557 1.54471 15.9861 1.54669 15.9006C1.58647 14.3654 2.20294 12.9276 3.2927 11.8379C4.42025 10.7103 5.91768 10.0899 7.51255 10.0899C9.10743 10.0899 10.6049 10.7103 11.7324 11.8379C12.8222 12.9276 13.4386 14.3654 13.4784 15.9006C13.4804 15.9881 13.55 16.0557 13.6375 16.0557H14.8307C14.8519 16.0557 14.8729 16.0515 14.8925 16.0433C14.9121 16.035 14.9298 16.0229 14.9446 16.0077C14.9594 15.9925 14.9711 15.9745 14.9788 15.9548C14.9866 15.935 14.9903 15.9139 14.9898 15.8927C14.9699 14.9421 14.773 14.0174 14.4031 13.1444ZM7.51255 8.57852C6.59978 8.57852 5.74069 8.22256 5.09439 7.57626C4.44809 6.92996 4.09213 6.07087 4.09213 5.15809C4.09213 4.24532 4.44809 3.38623 5.09439 2.73993C5.74069 2.09363 6.59978 1.73767 7.51255 1.73767C8.42533 1.73767 9.28441 2.09363 9.93071 2.73993C10.577 3.38623 10.933 4.24532 10.933 5.15809C10.933 6.07087 10.577 6.92996 9.93071 7.57626C9.28441 8.22256 8.42533 8.57852 7.51255 8.57852Z"
            fill="white"
          />
        </svg>
      ),
    },
  ];

  return (
    <div className="w-56 bg-[#0D1117] border-r border-gray-800 flex flex-col h-full">
      <div className="p-4">
        <button className="flex mb-10 justify-center w-full px-5 py-6 items-center rounded-[10px] bg-[radial-gradient(70.71%_70.71%_at_50%_50%,rgba(255,255,255,0.12)_0%,rgba(0,0,0,0.00)_100%)] shadow-[1px_1px_2px_0px_rgba(255,255,255,0.24)_inset,0px_1px_3px_0px_rgba(10,124,255,0.24),0px_2px_6px_0px_rgba(10,124,255,0.24),0px_4px_8px_0px_rgba(10,124,255,0.12)] font-bold">
          Start Challenge
        </button>
      </div>

      <div className="flex-1">
        {routes.map((route) => (
          <SidebarItem
            key={route.path}
            icon={route.icon}
            label={route.label}
            href={route.path}
            active={pathname === route.path}
          />
        ))}
      </div>

      <div className="mt-auto p-4">
        <Button
          variant="ghost"
          className="flex items-center gap-2 text-red-500 hover:text-red-400 w-full justify-start px-4"
        >
          <LogOut className="h-5 w-5" />
          <span>Log Out</span>
        </Button>
      </div>
    </div>
  );
}
